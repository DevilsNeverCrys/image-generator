# Використовуємо офіційний образ Node.js версії 14
FROM node:14

# Переміщуємося до робочого каталогу /usr/src/app в контейнері
WORKDIR /usr/src/app

# Копіюємо файли package.json та package-lock.json в робочу директорію
COPY package*.json ./

# Встановлюємо залежності
RUN npm install

# Копіюємо решту файлів в робочий каталог
COPY . .

# Виконуємо збірку додатку
RUN npm run build

# Використовуємо змінну оточення PORT для використання порту 3000
ENV PORT=3000

# Відкриваємо порт 3000 контейнера
EXPOSE 3000

# Команда для запуску веб-додатку
CMD ["npm", "start"]
